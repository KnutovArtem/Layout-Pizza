window.addEventListener("DOMContentLoaded",(function(){"use strict";(()=>{const t=document.querySelector(".active_but-size"),e=document.querySelector(".active_but-view"),c=document.querySelector(".img__card-product"),s=document.querySelector(".block-content__description"),n=document.querySelector(".size-min"),o=document.querySelector(".size-average"),a=document.querySelectorAll(".active-ingredient"),i=document.querySelectorAll(".label-size"),l=document.querySelectorAll(".label"),r=t=>{t.style.left=event.target.offsetLeft+"px"},d=(t,e)=>{s.textContent=`${t} см, традиционное тесто, ${e} г`},u=t=>{let e=s.textContent;s.textContent=e.replace(/традиционное|тонкое(?! тесто)/gi,""+t)},m=t=>{let e=c.src.replace(/[1-4](?=.png)/gi,""+t);c.src=e},v=t=>c.style.width=t+"%",p=()=>{l.forEach((c,s)=>{l[s].addEventListener("click",c=>{let s=c.target;const a=t=>{for(let e=0;e<t.length;e++)t[e].classList.remove("active");s.classList.toggle("active")};s.classList.contains("size-min")?(r(t),r(e),d(25,390),v(65),m(1),a(i)):s.classList.contains("size-average")?e.offsetLeft<=0?(r(t),d(30,590),v(85),m(2),a(i)):(r(t),d(30,590),v(85),m(4),a(i)):s.classList.contains("size-max")?e.offsetLeft<=0?(r(t),d(35,820),v(100),m(3),a(i)):(r(t),d(35,820),v(100),m(4),a(i)):s.classList.contains("tradition")?n.classList.contains("active")||(o.classList.contains("active")?(r(e),u("традиционное "),m(2)):(r(e),u("традиционное "),m(3))):s.classList.contains("thin")&&(n.classList.contains("active")||(o.classList.contains("active"),r(e),u("тонкое "),m(4)))})})};(()=>{a.forEach((t,e)=>{a[e].addEventListener("click",()=>{a[e].classList.contains("active-ingredient")?(a[e].classList.remove("active-ingredient"),a[e].classList.add("deactive-ingredient")):(a[e].classList.remove("deactive-ingredient"),a[e].classList.add("active-ingredient"))})})})(),p()})();(()=>{const t=document.querySelector(".main-menu"),e=document.querySelector(".menu-logo"),c=(t,e)=>{t.style.cssText=`\n\t\t\t\ttransform: translateX(${e}px);\n\t\t\t\ttransition: transform .25s ease;\n\t\t\t`};let s=document.querySelector(".block-main-menu").offsetTop;window.addEventListener("scroll",()=>{document.documentElement.scrollTop>s?(c(e,0),c(t,51)):(c(e,-51),c(t,0))})})();(()=>{const t=document.querySelector(".block-slider"),e=(document.querySelector(".block-slider-conrol"),document.querySelector(".block-control-dots")),c=document.querySelectorAll(".slider-image");let s,n=0;c.forEach(()=>{const t=document.createElement("div");t.className="dot",e.appendChild(t),document.querySelectorAll(".dot").forEach((t,e,c)=>{c[0].classList.add("dot-active")})});const o=t=>{(event.target.matches(".next")||event.target.matches(".prev")||event.target.matches(".dot"))&&t()};t.addEventListener("mouseover",t=>o(v)),t.addEventListener("mouseout",t=>o(m));const a=document.querySelectorAll(".dot"),i=()=>{c[n].classList.remove("active-slider"),a[n].classList.remove("dot-active")},l=()=>{c[n].classList.add("active-slider"),a[n].classList.add("dot-active")};document.addEventListener("click",t=>{let e=t.target;t.target.matches(".next")&&r(),t.target.matches(".prev")&&d(),t.target.matches(".dot")&&a.forEach((t,s)=>{t===e&&(i(),n=s,n>=c.length&&(n=0),l())})});const r=()=>{i(),n++,n>=c.length&&(n=0),l()},d=()=>{i(),n--,n<=-1&&(n=2),l()},u=()=>r(),m=()=>{s=setInterval(u,6e3)};m();const v=()=>{clearInterval(s)}})();(()=>{const t=(t,e,c,s)=>{const n=document.createElement("div");return n.className="block-product",n.innerHTML=`\n\t\t\t\t<div class='product__images'>\n\t\t\t\t\t<img class='product__image' src='img/catalog/${t}.png' alt='пицца'>\n\t\t\t\t</div>\n\t\t\t\t<div class='product__name'>${e}</div>\n\t\t\t\t<div class='product__description'>\n\t\t\t\t\t${c}\n\t\t\t\t</div>\n\t\t\t\t<div class='product__price'>От <span>${s}</span> ₽</div>\n\t\t\t\t<div class='product__this-choose'>В корзину</div>\n\t\t\t`,n},e=document.querySelector(".blocks-products");e.appendChild(t("product_01","Аррива1","Цыпленок, томатный соус, сладкий перец, красный лук, моцарелла, острый халапеньо, томаты, соус сальса",520)),e.appendChild(t("product_02","Аррива2","Соберите свою пиццу 35 см с двумя разными вкусами",520)),e.appendChild(t("product_03","Аррива3","Соберите свою пиццу 35 см с двумя разными вкусами",520)),e.appendChild(t("product_04","Аррива4","Соберите свою пиццу 35 см с двумя разными вкусами",520))})();(()=>{const t=document.querySelector(".modal-window__card-product"),e=document.querySelector(".close");e.addEventListener("click",()=>t.style.display="none");(()=>{const e=document.querySelectorAll(".block-product");e.forEach((c,s)=>{e[s].addEventListener("click",e=>{let c=e.target;console.log(c.className),"product__image"!==c.className&&"product__this-choose"!==c.className||(t.style.display="flex")})})})()})()}));